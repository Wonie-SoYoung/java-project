<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>查看详细作品信息 | 自由角度</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="../../vendors/iconfonts/mdi/css/materialdesignicons.min.css" th:href="@{/../../vendors/iconfonts/mdi/css/materialdesignicons.min.css}">
    <link rel="stylesheet" href="../../vendors/css/vendor.bundle.base.css" th:href="@{/../../vendors/css/vendor.bundle.base.css}">
    <link rel="stylesheet" href="../../vendors/css/vendor.bundle.addons.css" th:href="@{/../../vendors/css/vendor.bundle.addons.css}">
    <!-- endinject -->
    <!-- plugin css for this page -->
    <link rel="stylesheet" href="../../vendors/iconfonts/font-awesome/css/font-awesome.min.css" th:href="@{/../../vendors/iconfonts/font-awesome/css/font-awesome.min.css}" />
    <link rel="stylesheet" href="../../vendors/icheck/skins/all.css" th:href="@{/../../vendors/icheck/skins/all.css}">
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="../../css/style.css" th:href="@{/../../css/style.css}">
    <!-- endinject -->
    <link rel="shortcut icon" href="images/favicon.png" th:href="@{/images/favicon.png}" />
    <style>

        .modal-content {
            position: relative;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-direction: column;
            flex-direction: column;
            width: 100%;
            pointer-events: auto;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 0.3rem;
            outline: 0;
        }


    </style>
</head>
    <body>
    <div class="container-scroller">
        <!-- partial:partials/_navbar.html
            引入顶部栏
        -->
        <div th:replace="~{partials/_navbar :: _navbar}"></div>

        <!-- partial -->
        <div class="container-fluid page-body-wrapper">
            <!-- partial:partials/_sidebar.html

              引入左边栏

              -->
            <div th:replace="~{partials/_sidebar :: _sidebar}"></div>
            <!-- partial -->
            <div class="main-panel">
                <div class="content-wrapper">
                    <!--
                                导航栏
                    -->
                    <div class="row">
                        <div class="col-12 grid-margin">
                            <div class="card">
                                <div class="card-body">
                                    <div class="template-demo">
                                        <div class="btn-group" role="group" aria-label="Basic example">
                                            <button type="button" class="btn btn-outline-secondary">位置信息：</button>
                                            <button type="button" class="btn btn-outline-secondary">作品管理 > </button>
                                            <button type="button" class="btn btn-outline-secondary">所有作品 > </button>
                                            <button type="button" class="btn btn-outline-secondary">查看作品 > </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">

                        <!--
                                    作品信息
                        -->
                        <div class="col-6 grid-margin">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">作品详细信息</h4>

                                    <form class="form-sample">
                                        <input type="hidden" name="id" />
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">ID</label>
                                                    <div class="col-sm-8">
                                                            <input type="text" class="form-control" th:value="${id}" placeholder="1" disabled="disabled"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">作品名称</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['pName']}" placeholder="秦岭南五台山" disabled="disabled"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">标签</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['label']}" placeholder="标签 > 题材 > 城市 > 图片" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">作品类型</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control zuotype" th:value="${productionByIdMap['protypeId']}" placeholder="图片" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">时长</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['duration']}" placeholder="无时长" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">拍摄设备</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['facilityId']}" placeholder="Spark 系列 > Spark" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">位置</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['location']}" placeholder="标签 > 题材 > 城市 > 图片" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">浏览次数</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['viewNum']}" placeholder="1892" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">创建时间</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['createTime']}" placeholder="2019/10/12" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">修改时间</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['updateTime']}" placeholder="无修改" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-2 col-form-label">作品地址</label>
                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" hidden="hidden" th:value="${productionByIdMap['proURL']}" placeholder="\Free\Work\Picture\ae69fa4c-4edf-4fd5-a6e3-f0305effdd78.jpg" disabled="disabled" />
                                                        <button type="button" class="btn btn-outline-success btn-rounded btn-fw btnzuo" th:attr="url=${productionByIdMap['proURL']}">查看</button>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-2 col-form-label">壁纸地址</label>
                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" hidden="hidden" th:value="${productionByIdMap['hiapkURL']}" placeholder="\Free\Work\Picture\ae69fa4c-4edf-4fd5-a6e3-f0305effdd78.jpg" disabled="disabled" />
                                                        <button type="button" class="btn btn-outline-success btn-rounded btn-fw btnurl" th:attr="url=${application.httpURL}+${productionByIdMap['hiapkURL']}"  data-target="#myModal">查看</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-2 col-form-label">版权拥有</label>
                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['copyrightId']}" placeholder="自由角度使用" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-2 col-form-label">个人隐私</label>
                                                    <div class="col-sm-10">
                                                        <input type="text" class="form-control" th:value="${productionByIdMap['privacyId']}" placeholder="仅个人可见" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>

                                </div>
                            </div>
                        </div>

                        <!--
                                    用户信息
                        -->
                        <div class="col-6 grid-margin">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">用户信息</h4>

                                    <form class="form-sample">
                                        <input type="hidden" name="id" />
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">账户</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${userByIdMap['id']}" placeholder="1" disabled="disabled"/>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">发布人</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${userByIdMap['userName']}" placeholder="" disabled="disabled"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">性别</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${userByIdMap['sex']}" placeholder="" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">声望</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${userByIdMap['prestige']}" placeholder="190" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">国家</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" th:value="${userByIdMap['stateid']}" placeholder="无地址" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">登录次数</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" th:value="${userByIdMap['logins']}" placeholder="190" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">注册时间</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" th:value="${userByIdMap['createTime']}" placeholder="2019/11/11" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">修改时间</label>
                                                    <div class="col-sm-8">
                                                        <input class="form-control" th:value="${userByIdMap['updateTime']}" placeholder="2019/11/12" disabled="disabled" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">页面推荐</label>
                                                    <div class="col-sm-4">
                                                        <div class="form-radio">
                                                            <label class="form-check-label">
                                                                <input type="radio" class="form-check-input" disabled="disabled" th:name="ifrecommend" th:checked="${userByIdMap['ifrecommend'] == 0}" id="membershipRadios3"> 是
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <div class="form-radio">
                                                            <label class="form-check-label">
                                                                <input type="radio" class="form-check-input" disabled="disabled" th:name="ifrecommend"  th:checked="${userByIdMap['ifrecommend'] == 1}" id="membershipRadios4"> 否
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <label class="col-sm-4 col-form-label">作品达人</label>
                                                    <div class="col-sm-4">
                                                        <div class="form-radio">
                                                            <label class="form-check-label">
                                                                <input type="radio" th:name="ifexpert" class="form-check-input" disabled="disabled" th:checked="${userByIdMap['ifexpert'] == 0}" id="membershipRadios3"> 是
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-4">
                                                        <div class="form-radio">
                                                            <label class="form-check-label">
                                                                <input type="radio" th:name="ifexpert" class="form-check-input" disabled="disabled" th:checked="${userByIdMap['ifexpert'] == 1}" id="membershipRadios4"> 否
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group row">
                                                    <button type="button" class="btn btn-info btn-block shouxun">授勋作品</button>
                                                    <button type="button" class="btn btn-light btn-block">删除作品</button>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <!--
                        作品热门推荐
                    -->



                <!-- partial:partials/_footer.html
                    引入底部栏
                -->
                <div th:replace="~{partials/_footer :: _footer}"></div>
                <!-- partial -->
            </div>
        </div>
    </div>
    </div>

    <div class="container">
        <!-- 模态框 -->
        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">

                    <!-- 模态框头部 -->
                    <div class="modal-header">
                        <h4 class="modal-title">模态框头部</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>

                    <!-- 模态框主体 -->
                    <div class="modal-body">
                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                <!--<div class="carousel-item active">
                                    <img src="https://free-angle.oss-cn-beijing.aliyuncs.com/Free/Work/Picture/%E9%93%81%E9%97%A8%E5%85%B3%E5%B8%8201.jpg" class="d-block w-100" alt="...">
                                </div>
                                <div class="carousel-item">
                                    <img src="..." class="d-block w-100" alt="...">
                                </div>
                                <div class="carousel-item">
                                    <img src="..." class="d-block w-100" alt="...">
                                </div>-->
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>

                    <!-- 模态框底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                    </div>

                </div>
            </div>
        </div>

    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="../../vendors/js/vendor.bundle.base.js" th:src="@{/../../vendors/js/vendor.bundle.base.js}"></script>
    <script src="../../vendors/js/vendor.bundle.addons.js" th:src="@{/../../vendors/js/vendor.bundle.addons.js}"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="../../js/off-canvas.js" th:src="@{/../../js/off-canvas.js}"></script>
    <script src="../../js/misc.js" th:src="@{/../../js/misc.js}"></script>
    <!-- endinject -->
    <!-- Custom js for this page-->
    <!-- End custom js for this page-->
    <script type="text/javascript" th:src="@{/ckplayer/ckplayer.js}"></script>
    <script th:src="@{/webjars/layui/dist/layui.js}" src="webjars/layui/dist/layui.js"></script>

    <script>
        layui.use(['layer', 'form'], function(){
            var layer = layui.layer
                ,form = layui.form;

        });
        $(function () {
            $(".btnurl").click(function () {
                $(".carousel-inner").text("");
                var url = $(this).attr("url");
                $(".carousel-inner").append("<div class=\"carousel-item active\">\n" +
                    "                                    <img src=\""+url+"\" class=\"d-block w-100\" alt=\"...\">\n" +
                    "                                </div>")
                $('#myModal').modal('toggle')
            })

            $(".btnzuo").click(function () {
                $(".carousel-inner").text("");
                var url = $(this).attr("url");
                var urlArray = new Array();
                var formcontrol = $(".zuotype").val();
                if (formcontrol=="图片"){
                    urlArray = url.split("+");
                    for (var i = 0; i <urlArray.length ; i++) {
                        httpurl = "https://free-angle.oss-cn-beijing.aliyuncs.com/"+urlArray[i];
                        if (i<1){
                            $(".carousel-inner").append("<div class=\"carousel-item active\">\n" +
                                "                                    <img src=\""+httpurl+"\" class=\"d-block w-100\" alt=\"...\">\n" +
                                "                                </div>")
                        } else{
                            $(".carousel-inner").append("<div class=\"carousel-item\">\n" +
                                "                                    <img src=\""+httpurl+"\" class=\"d-block w-100\" alt=\"...\">\n" +
                                "                                </div>")
                        }

                    }
                }
                if (formcontrol == "视频"){
                    httpurl = "https://free-angle.oss-cn-beijing.aliyuncs.com/"+url
                    $(".carousel-inner").append("<div id=\"video\" style=\"width:100%;height:600px;\"></div>\n")
                    var videoObject = {
                        container: '#video',//“#”代表容器的ID，“.”或“”代表容器的class
                        variable: 'player',//该属性必需设置，值等于下面的new chplayer()的对象
                        flashplayer:false,//如果强制使用flashplayer则设置成true
                        video:httpurl//视频地址
                    };
                    var player=new ckplayer(videoObject);
                }

                $('#myModal').modal('toggle')
            })


            $(".shouxun").click(function () {
                layer.open({
                    type: 2,
                    skin: 'layui-layer-demo', //样式类名
                    id:'layerDemo'+1,
                    title: '选择通知的用户',
                    closeBtn: 1, //不显示关闭按钮
                    anim: 0,
                    maxmin:true,
                    btn: ['确认', '取消'],
                    yes: function(index){//layer.msg('yrcess"){es');    //点击确定回调
                        var checked=[];
                        $(window.frames["layui-layer-iframe"+index].document).find("input[type=checkbox]:checked").each(function(){
                            checked.push($(this).val())
                        });
                        var checksplict="";
                        for(var i=0;i<checked.length;i++){
                            checksplict += checked[i] +",";
                        }
                        var pid = $(".form-control").val();
                        $.post  ("/production/shouxun", {checksplict:checksplict,pid:pid}, function (data) {
                            if (data=="success"){
                                layer.msg("授勋成功")
                            } 
                            if (data=="error"){
                                layer.msg("授勋失败")
                            }
                        });
                        layer.closeAll();
                    },
                    area: ['993px', '570px'],
                    shadeClose: true, //开启遮罩关闭
                    content: '/production/selShouXun'
                });
            })
        })
    </script>
    </body>
</html>